function scr_option_menu()
{
	var get_window_height = display_get_gui_height();
	var get_window_width = display_get_gui_width();
	var mouse_get_x = device_mouse_x_to_gui(0);
	var mouse_get_y = device_mouse_y_to_gui(0);
	var fixed_player = 1;

	#region /* Background Brightness in Menus Options */
	if (background_brightness_menu_lerp < 0)
	{
		draw_set_alpha(abs(background_brightness_menu_lerp));
		draw_rectangle_color(- 32, - 32, display_get_gui_width(), display_get_gui_height(), c_black, c_black, c_black, c_black, false);
		draw_set_alpha(1);
	}
	else
	if (background_brightness_menu_lerp > 0)
	{
		draw_set_alpha(abs(background_brightness_menu_lerp));
		draw_rectangle_color(- 32, - 32, display_get_gui_width(), display_get_gui_height(), c_white, c_white, c_white, c_white, false);
		draw_set_alpha(1);
	}
	#endregion /* Background Brightness in Menus Options END */

	#region /* Black Background behind sidebar */
	draw_set_alpha(1);
	draw_rectangle_color(left_sidebar_x + 0, 0, left_sidebar_x + 370, get_window_height, c_black, c_black, c_black, c_black, false);
	#endregion /* Black Background behind sidebar END */

	#region /* Set Font */
	var text_x_offset = 0;
	var icon_x_offset = 0;
	draw_set_halign(fa_left);
	draw_set_valign(fa_middle);
	#endregion /* Set Font END */

	#region /* Menu navigation tabs y positions */
	var accessibility_settings_y = 40;
	if (global.enable_challenge_mode_settings)
	{
		var challenge_mode_settings_y = accessibility_settings_y + 40;
	}
	else
	{
		var challenge_mode_settings_y = accessibility_settings_y;
	}
	if (global.enable_how_to_play_settings)
	{
		var how_to_play_y = challenge_mode_settings_y + 40;
		var game_text_y = how_to_play_y + 40;
	}
	else
	{
		var how_to_play_y = -999;
		var game_text_y = challenge_mode_settings_y + 40;
	}
	var game_settings_y = game_text_y + 40;
	if (global.enable_multiplayer_settings)
	{
		var multiplayer_settings_y = game_settings_y + 40;
		var controls_text_y = multiplayer_settings_y + 40;
	}
	else
	{
		var multiplayer_settings_y = -999;
		var controls_text_y = game_settings_y + 40;
	}
	if (global.enable_keyboard_and_mouse_settings)
	{
		var keyboard_and_mouse_settings_y = controls_text_y + 40;
		var controller_settings_y = keyboard_and_mouse_settings_y + 40;
	}
	else
	{
		keyboard_and_mouse_settings_y = -999;
		var controller_settings_y = controls_text_y + 40;
	}
	if (global.enable_touch_settings)
	{
		var touch_settings_y = controller_settings_y + 40;
		var general_text_y = touch_settings_y + 40;
	}
	else
	{
		var touch_settings_y = -999;
		var general_text_y = controller_settings_y + 40;
	}
	if (global.enable_account_settings)
	{
		var account_settings_y = general_text_y + 40;
		var video_settings_y = account_settings_y + 40;
	}
	else
	{
		var account_settings_y = -999;
		var video_settings_y = general_text_y + 40;
	}
	var audio_settings_y = video_settings_y + 40;
	var custom_resources_settings_y = audio_settings_y + 40;
	var storage_settings_y = custom_resources_settings_y + 40;
	var language_settings_y = storage_settings_y + 40;
	if (global.enable_broadcast_settings)
	{
		var broadcast_settings_y = language_settings_y + 40;
	}
	else
	{
		var broadcast_settings_y = -999;
	}
	#endregion /* Menu navigation tabs y positions END */

	#region /* Tabs Graphics */
	if (left_sidebar_x > -400)
	{

		#region /* Accessibility Settings */
		if (global.settings_sidebar_menu == "accessibility_settings")
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, accessibility_settings_y, 370, accessibility_settings_y + 39))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + accessibility_settings_y, 1, 1, 0, c_green, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + accessibility_settings_y, 1, 1, 0, c_gray, 1);
			}
			/* Button Hightlighted */

			draw_sprite_ext(spr_settings_icon, 1, left_sidebar_x + 20 + icon_x_offset, 20 + accessibility_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + accessibility_settings_y, l10n_text("Accessibility"), global.default_text_size * 1.05, c_black, c_white, 1);
		}
		else
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, accessibility_settings_y, 370,(accessibility_settings_y + 40) - 1))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + accessibility_settings_y, 1, 1, 0, c_lime, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + accessibility_settings_y, 1, 1, 0, c_white, 1);
			}
			draw_sprite_ext(spr_settings_icon, 1, left_sidebar_x + 20 + icon_x_offset, 20 + accessibility_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + accessibility_settings_y, l10n_text("Accessibility"), global.default_text_size, c_white, c_black, 1);
		}
		#endregion /* Accessibility Settings END */

		#region /* Challenge Settings */
		if (global.enable_challenge_mode_settings)
		{
			if (global.settings_sidebar_menu == "challenge_mode_settings")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, challenge_mode_settings_y, 370, challenge_mode_settings_y + 39))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + challenge_mode_settings_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + challenge_mode_settings_y, 1, 1, 0, c_gray, 1);
				}
				/* Button Hightlighted */

				draw_sprite_ext(spr_icon_challenge_mode, 1, left_sidebar_x + 20 + icon_x_offset, 20 + challenge_mode_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + challenge_mode_settings_y, l10n_text("Challenge Mode"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, challenge_mode_settings_y, 370,(challenge_mode_settings_y + 40) - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + challenge_mode_settings_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + challenge_mode_settings_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_icon_challenge_mode, 1, left_sidebar_x + 20 + icon_x_offset, 20 + challenge_mode_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + challenge_mode_settings_y, l10n_text("Challenge Mode"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* Challenge Settings END */

		#region /* My Game Settings */
		scr_draw_text_outlined(left_sidebar_x + 20 + text_x_offset, 20 + (game_text_y), l10n_text("Game"), global.default_text_size * 0.5, c_black, c_white, 1);

		#region /* Game Settings */
		if (global.settings_sidebar_menu == "game_settings")
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, game_settings_y, 370, game_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + game_settings_y, 1, 1, 0, c_green, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + game_settings_y, 1, 1, 0, c_gray, 1);
			}
			draw_sprite_ext(spr_settings_icon, 2, left_sidebar_x + 20 + icon_x_offset, 20 + game_settings_y, 1, 1, 0, c_white, 1) /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + game_settings_y, l10n_text("Game"), global.default_text_size * 1.05, c_black, c_white, 1);
		}
		else
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, game_settings_y, 370, game_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + game_settings_y, 1, 1, 0, c_lime, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + game_settings_y, 1, 1, 0, c_white, 1);
			}
			draw_sprite_ext(spr_settings_icon, 2, left_sidebar_x + 20 + icon_x_offset, 20 + game_settings_y, 0.9, 0.9, 0, c_white, 1)
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + game_settings_y, l10n_text("Game"), global.default_text_size, c_white, c_black, 1);
		}
		#endregion /* Game Settings END */

		#region /* Multiplayer Settings */
		if (global.enable_multiplayer_settings)
		{
			if (global.settings_sidebar_menu == "multiplayer_settings")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, multiplayer_settings_y, 370, multiplayer_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + multiplayer_settings_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + multiplayer_settings_y, 1, 1, 0, c_gray, 1);
				}
				draw_sprite_ext(spr_settings_icon, 3, left_sidebar_x + 20 + icon_x_offset, 20 + multiplayer_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + multiplayer_settings_y, l10n_text("Multiplayer"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, multiplayer_settings_y, 370, multiplayer_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + multiplayer_settings_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + multiplayer_settings_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_settings_icon, 3, left_sidebar_x + 20 + icon_x_offset, 20 + multiplayer_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + multiplayer_settings_y, l10n_text("Multiplayer"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* Multiplayer Settings END */

		#endregion /* My Game Settings END */

		#region /* Controls Settings */
		scr_draw_text_outlined(left_sidebar_x + 20 + text_x_offset, 20 + (controls_text_y), l10n_text("Controls"), global.default_text_size * 0.5, c_black, c_white, 1);

		#region /* Keyboard and Mouse Settings */
		if (global.enable_keyboard_and_mouse_settings)
		{
			if (global.settings_sidebar_menu == "keyboard_and_mouse_settings")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, keyboard_and_mouse_settings_y, 370, keyboard_and_mouse_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +keyboard_and_mouse_settings_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +keyboard_and_mouse_settings_y, 1, 1, 0, c_gray, 1);
				}
				draw_sprite_ext(spr_settings_icon, 4, left_sidebar_x + 20 + icon_x_offset, 20 +keyboard_and_mouse_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 +keyboard_and_mouse_settings_y, l10n_text("Keyboard & Mouse"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, keyboard_and_mouse_settings_y, 370, keyboard_and_mouse_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +keyboard_and_mouse_settings_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +keyboard_and_mouse_settings_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_settings_icon, 4, left_sidebar_x + 20 + icon_x_offset, 20 +keyboard_and_mouse_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 +keyboard_and_mouse_settings_y, l10n_text("Keyboard & Mouse"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* Keyboard and Mouse Settings */

		#region /* Controller Settings */
		if (global.enable_controller_settings)
		{
			if (global.settings_sidebar_menu == "controller_settings")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, controller_settings_y, 370, controller_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + controller_settings_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + controller_settings_y, 1, 1, 0, c_gray, 1);
				}
				draw_sprite_ext(spr_settings_icon, 5, left_sidebar_x + 20 + icon_x_offset, 20 + controller_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + controller_settings_y, l10n_text("Controller"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, controller_settings_y, 370, controller_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + controller_settings_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + controller_settings_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_settings_icon, 5, left_sidebar_x + 20 + icon_x_offset, 20 + controller_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + controller_settings_y, l10n_text("Controller"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* Controller Settings END */

		#region /* Touch Settings */
		if (global.enable_touch_settings)
		{
			if (global.settings_sidebar_menu == "touch_settings")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, touch_settings_y, 370, touch_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + touch_settings_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + touch_settings_y, 1, 1, 0, c_gray, 1);
				}
				draw_sprite_ext(spr_settings_icon,6, left_sidebar_x + 20 + icon_x_offset, 20 + touch_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + touch_settings_y, l10n_text("Touch"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, touch_settings_y, 370,(40 * 9) - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + touch_settings_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + touch_settings_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_settings_icon,6, left_sidebar_x + 20 + icon_x_offset, 20 + touch_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + touch_settings_y, l10n_text("Touch"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* Touch Settings END */

		#endregion /* Controls Settings END */

		#region /* General Settings */
		scr_draw_text_outlined(left_sidebar_x + 20 + text_x_offset, 20 + general_text_y, l10n_text("General"), global.default_text_size * 0.5, c_black, c_white, 1);

		#region /* Account Settings */
		if (global.enable_account_settings)
		{
			if (global.settings_sidebar_menu == "account_settings")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, account_settings_y, 370, account_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + account_settings_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + account_settings_y, 1, 1, 0, c_gray, 1);
				}
				draw_sprite_ext(spr_icon_person, 0, left_sidebar_x + 20 + icon_x_offset, 20 + account_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + account_settings_y, l10n_text("Account"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, account_settings_y, 370, account_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + account_settings_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + account_settings_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_icon_person, 0, left_sidebar_x + 20 + icon_x_offset, 20 + account_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + account_settings_y, l10n_text("Account"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* Account Settings END */

		#region /* Video Settings */
		if (global.settings_sidebar_menu == "video_settings")
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, video_settings_y, 370, video_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + video_settings_y, 1, 1, 0, c_green, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + video_settings_y, 1, 1, 0, c_gray, 1);
			}
			draw_sprite_ext(spr_settings_icon, 8, left_sidebar_x + 20 + icon_x_offset, 20 + video_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + video_settings_y, l10n_text("Video"), global.default_text_size * 1.05, c_black, c_white, 1);
		}
		else
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, video_settings_y, 370, video_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + video_settings_y, 1, 1, 0, c_lime, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + video_settings_y, 1, 1, 0, c_white, 1);
			}
			draw_sprite_ext(spr_settings_icon, 8, left_sidebar_x + 20 + icon_x_offset, 20 + video_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + video_settings_y, l10n_text("Video"), global.default_text_size, c_white, c_black, 1);
		}
		#endregion /* Video Settings END */

		#region /* Audio Settings */
		if (global.settings_sidebar_menu == "audio_settings")
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, audio_settings_y, 370, audio_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + audio_settings_y, 1, 1, 0, c_green, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + audio_settings_y, 1, 1, 0, c_gray, 1);
			}
			draw_sprite_ext(spr_settings_icon,9, left_sidebar_x + 20 + icon_x_offset, 20 + audio_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + audio_settings_y, l10n_text("Audio"), global.default_text_size * 1.05, c_black, c_white, 1);
		}
		else
			{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, audio_settings_y, 370, audio_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + audio_settings_y, 1, 1, 0, c_lime, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + audio_settings_y, 1, 1, 0, c_white, 1);
			}
			draw_sprite_ext(spr_settings_icon,9, left_sidebar_x + 20 + icon_x_offset, 20 + audio_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + audio_settings_y, l10n_text("Audio"), global.default_text_size, c_white, c_black, 1);
		}
		#endregion /* Audio Settings END */

		#region /* Custom Resources Settings */
		if (global.enable_custom_resources_settings)
		{
			if (global.settings_sidebar_menu == "custom_resources_settings")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, custom_resources_settings_y, 370, custom_resources_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + custom_resources_settings_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + custom_resources_settings_y, 1, 1, 0, c_gray, 1);
				}
				draw_sprite_ext(spr_settings_icon, 10, left_sidebar_x + 20 + icon_x_offset, 20 + custom_resources_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + custom_resources_settings_y, l10n_text("Custom Resources"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, custom_resources_settings_y, 370, custom_resources_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + custom_resources_settings_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + custom_resources_settings_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_settings_icon, 10, left_sidebar_x + 20 + icon_x_offset, 20 + custom_resources_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + custom_resources_settings_y, l10n_text("Custom Resources"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* Custom Resources Settings END */

		#region /* Storage Settings */
		if (global.enable_storage_settings)
		{
			if (global.settings_sidebar_menu == "storage_settings")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, storage_settings_y, 370, storage_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + storage_settings_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + storage_settings_y, 1, 1, 0, c_gray, 1);
				}
				draw_sprite_ext(spr_settings_icon, 11, left_sidebar_x + 20 + icon_x_offset, 20 + storage_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + storage_settings_y, l10n_text("Storage"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, storage_settings_y, 370, storage_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + storage_settings_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + storage_settings_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_settings_icon, 11, left_sidebar_x + 20 + icon_x_offset, 20 + storage_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + storage_settings_y, l10n_text("Storage"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* Storage Settings END */

		#region /* Language Settings */
		if (global.settings_sidebar_menu == "language_settings")
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, language_settings_y, 370, language_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +language_settings_y, 1, 1, 0, c_green, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +language_settings_y, 1, 1, 0, c_gray, 1);
			}
			draw_sprite_ext(spr_settings_icon, 12, left_sidebar_x + 20 + icon_x_offset, 20 +language_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 +language_settings_y, l10n_text("Language"), global.default_text_size * 1.05, c_black, c_white, 1);
		}
		else
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, language_settings_y, 370, language_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +language_settings_y, 1, 1, 0, c_lime, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +language_settings_y, 1, 1, 0, c_white, 1);
			}
			draw_sprite_ext(spr_settings_icon, 12, left_sidebar_x + 20 + icon_x_offset, 20 +language_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 +language_settings_y, l10n_text("Language"), global.default_text_size, c_white, c_black, 1);
		}
		#endregion /* Language Settings END */

		#region /* Broadcast Settings */
		if (global.enable_broadcast_settings)
		{
			if (global.settings_sidebar_menu == "broadcast_settings")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, broadcast_settings_y, 370, broadcast_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +broadcast_settings_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +broadcast_settings_y, 1, 1, 0, c_gray, 1);
				}
				draw_sprite_ext(spr_settings_icon, 13, left_sidebar_x + 20 + icon_x_offset, 20 +broadcast_settings_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 +broadcast_settings_y, l10n_text("Broadcast"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, broadcast_settings_y, 370, broadcast_settings_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +broadcast_settings_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +broadcast_settings_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_settings_icon, 13, left_sidebar_x + 20 + icon_x_offset, 20 +broadcast_settings_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 +broadcast_settings_y, l10n_text("Broadcast"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* Broadcast Settings END */

		#region /* How to play Settings */
		if (global.enable_how_to_play_settings)
		{
			if (global.settings_sidebar_menu == "how_to_play")
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, how_to_play_y, 370, how_to_play_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +how_to_play_y, 1, 1, 0, c_green, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +how_to_play_y, 1, 1, 0, c_gray, 1);
				}
				draw_sprite_ext(spr_settings_icon, 14, left_sidebar_x + 20 + icon_x_offset, 20 +how_to_play_y, 1, 1, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 +how_to_play_y, l10n_text("How to Play"), global.default_text_size * 1.05, c_black, c_white, 1);
			}
			else
			{
				if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, how_to_play_y, 370, how_to_play_y + 40 - 1))
				&& (global.controls_used_for_navigation == "mouse")
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +how_to_play_y, 1, 1, 0, c_lime, 1);
				}
				else
				{
					draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 +how_to_play_y, 1, 1, 0, c_white, 1);
				}
				draw_sprite_ext(spr_settings_icon, 14, left_sidebar_x + 20 + icon_x_offset, 20 +how_to_play_y, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
				scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 +how_to_play_y, l10n_text("How to Play"), global.default_text_size, c_white, c_black, 1);
			}
		}
		#endregion /* General Settings END */

		#region /* Add-Ons Settings */
		if (global.enable_add_ons_settings)
		{
			scr_draw_text_outlined(left_sidebar_x + 20 + text_x_offset, 20 + (40 * 18), l10n_text("Add-Ons"), global.default_text_size * 0.5, c_black, c_white, 1);

			if (global.settings_sidebar_menu == "resource_pack_settings")
			{draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + (40 * 19), 1, 1, 0, c_gray, 1); /* Button Hightlighted */
			draw_sprite_ext(spr_settings_icon, 15, left_sidebar_x + 20 + icon_x_offset, 20 + (40 * 19), 1, 1, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + (40 * 19), l10n_text("Resource Packs"), global.default_text_size * 1.05, c_black, c_white, 1);
			}else{draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + (40 * 19), 1, 1, 0, c_white, 1); /* Button Not Selected */
			draw_sprite_ext(spr_settings_icon, 15, left_sidebar_x + 20 + icon_x_offset, 20 + (40 * 19), 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + (40 * 19), l10n_text("Resource Packs"), global.default_text_size, c_white, c_black, 1);}

			if (global.settings_sidebar_menu == "behavior_packs_settings")
			{draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + (40 * 20), 1, 1, 0, c_gray, 1); /* Button Hightlighted */
			draw_sprite_ext(spr_settings_icon, 16, left_sidebar_x + 20 + icon_x_offset, 20 + (40 * 20), 1, 1, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + (40 * 20), l10n_text("Behavior Packs"), global.default_text_size * 1.05, c_black, c_white, 1);
			}else{draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20 + (40 * 20), 1, 1, 0, c_white, 1); /* Button Not Selected */
			draw_sprite_ext(spr_settings_icon, 16, left_sidebar_x + 20 + icon_x_offset, 20 + (40 * 20), 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20 + (40 * 20), l10n_text("Behavior Packs"), global.default_text_size, c_white, c_black, 1);}
		}
		#endregion /* Add-Ons Settings END */

		#region /* The "Back" button should always appear at the top of the screen */
		if (global.settings_sidebar_menu == "settings_back")
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, 0, 370, 39))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20, 1, 1, 0, c_green, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20, 1, 1, 0, c_gray, 1);
			}
			/* Button Hightlighted */

			draw_sprite_ext(spr_icon_back, 0, left_sidebar_x + 20 + icon_x_offset, 20, 1, 1, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20, l10n_text("Back"), global.default_text_size * 1.05, c_black, c_white, 1);
		}
		else
		{
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, 0, 370, 39))
			&& (global.controls_used_for_navigation == "mouse")
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20, 1, 1, 0, c_lime, 1);
			}
			else
			{
				draw_sprite_ext(spr_menu_button, global.menu_button_subimg, left_sidebar_x, 20, 1, 1, 0, c_white, 1);
			}
			/* Button Not Selected */

			draw_sprite_ext(spr_icon_back, 0, left_sidebar_x + 20 + icon_x_offset, 20, 0.9, 0.9, 0, c_white, 1); /* Settings Icon */
			scr_draw_text_outlined(left_sidebar_x + 40 + text_x_offset, 20, l10n_text("Back"), global.default_text_size, c_white, c_black, 1);
		}
		#endregion /* The "Back" button should always appear at the top of the screen END */

		#endregion /* Settings Sidebar END */

		draw_set_alpha(darken_settings_sidebar_alpha);
		draw_rectangle_color(left_sidebar_x, 0, left_sidebar_x + 370, get_window_height, c_black, c_black, c_black, c_black, false);
		draw_set_alpha(1);

	}
	#endregion /* Tabs Graphics END */

	if (in_settings)
	{
		scr_scroll_menu();

		#region /* Go back out of setting menu */
		if (key_a_pressed)
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		&& (global.settings_sidebar_menu == "settings_back")
		&& (can_navigate_settings_sidebar)
		&& (!input_key)
		&& (!input_gamepad_button)
		|| (key_b_pressed)
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		&& (can_navigate_settings_sidebar)
		&& (!input_key)
		&& (!input_gamepad_button)
		{
			scr_config_save(); /* Save Config */
			if (global.pause_room != rm_leveleditor)
			&& (global.selected_resource_pack != old_selected_resource_pack)
			{
				scr_load_resource_pack_sprite(); /* Load new sprites from resource pack */
				old_selected_resource_pack = global.selected_resource_pack;
			}
			in_settings = false;
			menu = "options";
			menu_delay = 3;
		}
		#endregion /* Go back out of setting menu END */

		if (key_b_pressed)
		&& (!can_navigate_settings_sidebar)
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		&& (!input_key)
		&& (!input_gamepad_button)
		{
			if (open_dropdown)
			{
				open_dropdown = false;
			}
			else
			{
				can_navigate_settings_sidebar = true;
				menu_delay = 3;
				menu = noone;
			}
		}
		else
		if (key_right)
		&& (global.settings_sidebar_menu != "settings_back")
		&& (can_navigate_settings_sidebar)
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		|| (key_a_pressed)
		&& (global.settings_sidebar_menu != "settings_back")
		&& (can_navigate_settings_sidebar)
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			menu_delay = 3;
			can_navigate_settings_sidebar = false;
			if (global.settings_sidebar_menu == "accessibility_settings")
			{
				menu = "assist_enable";
			}
			else
			if (global.settings_sidebar_menu == "challenge_mode_settings")
			&& (global.enable_challenge_mode_settings)
			{
				menu = "challenge_mode_enable";
			}
			else
			if (global.settings_sidebar_menu == "game_settings")
			{
				menu = "difficulty_settings";
			}
			else
			if (global.settings_sidebar_menu == "keyboard_and_mouse_settings")
			|| (global.settings_sidebar_menu == "controller_settings")
			{
				menu = "remap_select_player";
				for(var i = 1; i <= global.max_players; i += 1)
				{
					scr_set_character_folder(i);
					ini_open(character_folder + "/data/character_config.ini"); /* First open the character folder ini before initializing custom character abilities */
					allow_player_tongue[i] = scr_initialize_character_abilities(i - 1, "allow_tongue", false);
					allow_player_double_jump[i] = scr_initialize_character_abilities(i - 1, "number_of_jumps", 1, "values");
					allow_player_dive[i] = scr_initialize_character_abilities(i - 1, "allow_dive", false);
					ini_close(); /* Don't commit the save data on Switch, this is only temporary! */
				}
			}
			else
			if (global.settings_sidebar_menu == "account_settings")
			{
				menu = "change_username";
			}
			else
			if (global.settings_sidebar_menu == "video_settings")
			{
				if (!window_get_fullscreen())
				{
					menu = "resolution_setting";
				}
				else
				{
					menu = "gui_scale_modifier";
				}
			}
			else
			if (global.settings_sidebar_menu == "audio_settings")
			{
				menu = "volume_main";
			}
			else
			if (global.settings_sidebar_menu == "custom_resources_settings")
			{
				if (ds_list_size(global.all_loaded_resource_pack) >= 2)
				&& (!global.enable_option_for_pc)
				|| (global.enable_option_for_pc)
				{
					menu = "resource_pack";
				}
				else
				{
					menu = "title_background";
				}
			}
			else
			if (global.settings_sidebar_menu == "storage_settings")
			{
				menu = "file_select";
			}
			else
			if (global.settings_sidebar_menu == "language_settings")
			{
				menu = "Language" + string(global.current_language_menu_position);
				menu_cursor_y_position = global.current_language_menu_position * 50;
			}
		}
		/* When you navigate the sidebar or not */

		/* Main Settings on left sidebar */

		background_brightness_menu_lerp = lerp(background_brightness_menu_lerp, global.background_brightness_menu, 0.1); /* Background Brightness in Menus Options END */

		left_sidebar_x = lerp(left_sidebar_x, 0, 0.1);

		#region /* Menu navigation with mouse */

		#region /* Click Back */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, 0, 370, 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (global.settings_sidebar_menu == "settings_back")
		&& (mouse_check_button_released(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			scr_config_save(); /* Save Config */
			if (global.pause_room != rm_leveleditor)
			&& (global.selected_resource_pack != old_selected_resource_pack)
			{
				scr_load_resource_pack_sprite(); /* Load new sprites from resource pack */
				old_selected_resource_pack = global.selected_resource_pack;
			}
			input_key = false;
			in_settings = false;
			menu = "options";
			menu_delay = 3;
		}
		#endregion /* Click Back END */

		else

		#region /* Back */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, 0, 370, 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (mouse_check_button(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "settings_back";
			input_key = false;
			can_navigate_settings_sidebar = true;
		}
		#endregion /* Back END */

		else

		#region /* Click Accessibility */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, accessibility_settings_y, 370,(accessibility_settings_y + 40) - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (global.settings_sidebar_menu == "accessibility_settings")
		&& (mouse_check_button_released(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "accessibility_settings";
			menu_delay = 3;
			input_key = false;
			can_navigate_settings_sidebar = false;
			menu = "assist_enable";
		}
		#endregion /* Click Accessibility END */

		else

		#region /* Accessibility */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, accessibility_settings_y, 370,(accessibility_settings_y + 40) - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (mouse_check_button(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "accessibility_settings";
			input_key = false;
			can_navigate_settings_sidebar = true;
		}
		#endregion /* Accessibility END */

		else

		#region /* Click Challenge Mode */
		if (global.enable_challenge_mode_settings)
		&& (point_in_rectangle(mouse_get_x, mouse_get_y, 0, challenge_mode_settings_y, 370,(challenge_mode_settings_y + 40) - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (global.settings_sidebar_menu == "challenge_mode_settings")
		&& (mouse_check_button_released(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "challenge_mode_settings";
			menu_delay = 3;
			input_key = false;
			can_navigate_settings_sidebar = false;
			menu = "challenge_mode_enable";
		}
		#endregion /* Click Challenge Mode END */

		else

		#region /* Challenge Mode */
		if (global.enable_challenge_mode_settings)
		&& (point_in_rectangle(mouse_get_x, mouse_get_y, 0, challenge_mode_settings_y, 370,(challenge_mode_settings_y + 40) - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (mouse_check_button(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "challenge_mode_settings";
			input_key = false;
			can_navigate_settings_sidebar = true;
		}
		#endregion /* Challenge Mode END */

		else

		#region /* Click Game */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, game_settings_y, 370,(game_settings_y + 40) - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (global.settings_sidebar_menu == "game_settings")
		&& (mouse_check_button_released(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "game_settings";
			menu_delay = 3;
			input_key = false;
			can_navigate_settings_sidebar = false;
			menu = "difficulty_settings";
		}
		#endregion /* Click Game END */

		#region /* Game */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, game_settings_y, 370,(game_settings_y + 40) - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (mouse_check_button(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "game_settings";
			input_key = false;
			can_navigate_settings_sidebar = true;
		}
		#endregion /* Game END */

		if (global.enable_multiplayer_settings)
		{

			#region /* Click Multiplayer */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, multiplayer_settings_y, 370, multiplayer_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (global.settings_sidebar_menu == "multiplayer_settings")
			&& (mouse_check_button_released(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "multiplayer_settings";
				menu_delay = 3;
				input_key = false;
				can_navigate_settings_sidebar = false;
			}
			#endregion /* Click Multiplayer END */

			#region /* Multiplayer */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, multiplayer_settings_y, 370, multiplayer_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (mouse_check_button(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "multiplayer_settings";
				input_key = false;
				can_navigate_settings_sidebar = true;
			}
			#endregion /* Multiplayer END */

		}

		#region /* Click Keyboard and Mouse */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, keyboard_and_mouse_settings_y, 370, keyboard_and_mouse_settings_y + 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (global.settings_sidebar_menu == "keyboard_and_mouse_settings")
		&& (mouse_check_button_released(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			if (global.sprite_select_player[remapping_player + 1] == noone)
			{
				scr_change_character_portrait();
			}
			global.settings_sidebar_menu = "keyboard_and_mouse_settings";
			menu_delay = 3;
			input_key = false;
			can_navigate_settings_sidebar = false;
			menu = "remap_select_player";
			for(var i = 1; i <= global.max_players; i += 1)
			{
				scr_set_character_folder(i);
				ini_open(character_folder + "/data/character_config.ini"); /* First open the character folder ini before initializing custom character abilities */
				allow_player_tongue[i] = scr_initialize_character_abilities(i - 1, "allow_tongue", false);
				allow_player_double_jump[i] = scr_initialize_character_abilities(i - 1, "number_of_jumps", 1, "values");
				allow_player_dive[i] = scr_initialize_character_abilities(i - 1, "allow_dive", false);
				ini_close(); /* Don't commit the save data on Switch, this is only temporary! */
			}
		}
		#endregion /* Click Keyboard and Mouse END */

		#region /* Keyboard and Mouse */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, keyboard_and_mouse_settings_y, 370, keyboard_and_mouse_settings_y + 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (mouse_check_button(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			if (global.sprite_select_player[remapping_player + 1] == noone)
			{
				scr_change_character_portrait();
			}
			global.settings_sidebar_menu = "keyboard_and_mouse_settings";
			input_key = false;
			can_navigate_settings_sidebar = true;
		}
		#endregion /* Keyboard and Mouse END */

		if (global.enable_controller_settings)
		{

			#region /* Click Controller */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, controller_settings_y, 370, controller_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (global.settings_sidebar_menu == "controller_settings")
			&& (mouse_check_button_released(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				if (global.sprite_select_player[remapping_player + 1] == noone)
				{
					scr_change_character_portrait();
				}
				global.settings_sidebar_menu = "controller_settings";
				menu_delay = 3;
				input_key = false;
				can_navigate_settings_sidebar = false;
				menu = "remap_select_player";
				for(var i = 1; i <= global.max_players; i += 1)
				{
					scr_set_character_folder(i);
					ini_open(character_folder + "/data/character_config.ini"); /* First open the character folder ini before initializing custom character abilities */
					allow_player_tongue[i] = scr_initialize_character_abilities(i - 1, "allow_tongue", false);
					allow_player_double_jump[i] = scr_initialize_character_abilities(i - 1, "number_of_jumps", 1, "values");
					allow_player_dive[i] = scr_initialize_character_abilities(i - 1, "allow_dive", false);
					ini_close(); /* Don't commit the save data on Switch, this is only temporary! */
				}
			}
			#endregion /* Click Controller END */

			#region /* Controller */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, controller_settings_y, 370, controller_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (mouse_check_button(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				if (global.sprite_select_player[remapping_player + 1] == noone)
				{
					scr_change_character_portrait();
				}
				global.settings_sidebar_menu = "controller_settings";
				input_key = false;
				can_navigate_settings_sidebar = true;
			}
			#endregion /* Controller END */

		}

		if (global.enable_touch_settings)
		{

			#region /* Click Touch */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, touch_settings_y, 370, touch_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (global.settings_sidebar_menu == "touch_settings")
			&& (mouse_check_button_released(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "touch_settings";
				menu_delay = 3;
				input_key = false;
				can_navigate_settings_sidebar = false;
			}
			#endregion /* Click Touch END */

			#region /* Touch */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, touch_settings_y, 370, touch_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (mouse_check_button(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "touch_settings";
				input_key = false;
				can_navigate_settings_sidebar = true;
			}
			#endregion /* Touch END */

		}

		if (global.enable_account_settings)
		{

			#region /* Click Account */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, account_settings_y, 370, account_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (global.settings_sidebar_menu == "account_settings")
			&& (mouse_check_button_released(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "account_settings";
				menu_delay = 3;
				input_key = false;
				can_navigate_settings_sidebar = false;
				menu = "change_username";
			}
			#endregion /* Click Account END */

			#region /* Profile */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, account_settings_y, 370, account_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (mouse_check_button(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "account_settings";
				input_key = false;
				can_navigate_settings_sidebar = true;
			}
			#endregion /* Profile END */

		}

		#region /* Click Video */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, video_settings_y, 370, video_settings_y + 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (global.settings_sidebar_menu == "video_settings")
		&& (mouse_check_button_released(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "video_settings";
			menu_delay = 3;
			input_key = false;
			can_navigate_settings_sidebar = false;
			if (!window_get_fullscreen())
			{
				menu = "resolution_setting";
			}
			else
			{
				menu = "gui_scale_modifier";
			}
		}
		#endregion /* Click Video END */

		#region /* Video */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, video_settings_y, 370, video_settings_y + 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (mouse_check_button(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "video_settings";
			input_key = false;
			can_navigate_settings_sidebar = true;
		}
		#endregion /* Video END */

		#region /* Click Audio */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, audio_settings_y, 370, audio_settings_y + 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (global.settings_sidebar_menu == "audio_settings")
		&& (mouse_check_button_released(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "audio_settings";
			menu_delay = 3;
			input_key = false;
			can_navigate_settings_sidebar = false;
			menu = "volume_main";
		}
		#endregion /* Click Audio END */

		#region /* Audio */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, audio_settings_y, 370, audio_settings_y + 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (mouse_check_button(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "audio_settings";
			input_key = false;
			can_navigate_settings_sidebar = true;
		}
		#endregion /* Audio END */

		if (global.enable_custom_resources_settings)
		{

			#region /* Click Custom Resources */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, custom_resources_settings_y, 370, custom_resources_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (global.settings_sidebar_menu == "custom_resources_settings")
			&& (mouse_check_button_released(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "custom_resources_settings";
				menu_delay = 3;
				input_key = false;
				can_navigate_settings_sidebar = false;
				if (ds_list_size(global.all_loaded_resource_pack) >= 2)
				&& (!global.enable_option_for_pc)
				|| (global.enable_option_for_pc)
				{
					menu = "resource_pack";
				}
				else
				{
					menu = "title_background";
				}
			}
			#endregion /* Click Custom Resources END */

			#region /* Custom Resources */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, custom_resources_settings_y, 370, custom_resources_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (mouse_check_button(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "custom_resources_settings";
				input_key = false;
				can_navigate_settings_sidebar = true;
			}
			#endregion /* Custom Resources END */

		}

		if (global.enable_storage_settings)
		{

			#region /* Click Storage */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, storage_settings_y, 370, storage_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (global.settings_sidebar_menu == "storage_settings")
			&& (mouse_check_button_released(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "storage_settings";
				menu_delay = 3;
				input_key = false;
				can_navigate_settings_sidebar = false;
				menu = "file_select";
				scr_load_storage_variables();
			}
			#endregion /* Click Storage END */

			#region /* Storage */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, storage_settings_y, 370, storage_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (mouse_check_button(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "storage_settings";
				input_key = false;
				can_navigate_settings_sidebar = true;
				scr_load_storage_variables();
			}
			#endregion /* Storage END */

		}

		#region /* Click Language */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, language_settings_y, 370, language_settings_y + 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (global.settings_sidebar_menu == "language_settings")
		&& (mouse_check_button_released(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "language_settings";
			menu_delay = 3;
			input_key = false;
			can_navigate_settings_sidebar = false;
			menu = "Language" + string(global.current_language_menu_position);
		}
		#endregion /* Click Language END */

		#region /* Language */
		if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, language_settings_y, 370, language_settings_y + 40 - 1))
		&& (global.controls_used_for_navigation == "mouse")
		&& (mouse_check_button(mb_left))
		&& (menu_delay == 0 && menu_joystick_delay == 0)
		{
			global.settings_sidebar_menu = "language_settings";
			input_key = false;
			can_navigate_settings_sidebar = true;
		}
		#endregion /* Language END */

		if (global.enable_broadcast_settings)
		{

			#region /* Click Broadcast */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, broadcast_settings_y, 370, broadcast_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (global.settings_sidebar_menu == "broadcast_settings")
			&& (mouse_check_button_released(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "broadcast_settings";
				menu_delay = 3;
				input_key = false;
				can_navigate_settings_sidebar = false;
			}
			#endregion /* Click Broadcast END */

			#region /* Broadcast */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, broadcast_settings_y, 370, broadcast_settings_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (mouse_check_button(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "broadcast_settings";
				input_key = false;
				can_navigate_settings_sidebar = true;
			}
			#endregion /* Broadcast END */

		}

		if (global.enable_how_to_play_settings)
		{

			#region /* Click How to Play */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, how_to_play_y, 370, how_to_play_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (global.settings_sidebar_menu == "how_to_play")
			&& (mouse_check_button_released(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "how_to_play";
				menu_delay = 3;
				input_key = false;
				can_navigate_settings_sidebar = false;
			}
			#endregion /* Click How to Play END */

			#region /* How to Play */
			if (point_in_rectangle(mouse_get_x, mouse_get_y, 0, how_to_play_y, 370, how_to_play_y + 40 - 1))
			&& (global.controls_used_for_navigation == "mouse")
			&& (mouse_check_button(mb_left))
			&& (menu_delay == 0 && menu_joystick_delay == 0)
			{
				global.settings_sidebar_menu = "how_to_play";
				input_key = false;
				can_navigate_settings_sidebar = true;
			}
			#endregion /* How to Play END */

		}

		#endregion /* Menu navigation with mouse END */

		#region /* Settings Sidebar Navigation */
		if (menu_delay == 0 && menu_joystick_delay == 0)
		{

			#region /* Accessibility Settings */
			if (global.settings_sidebar_menu == "accessibility_settings")
			{
				if (key_up)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					global.settings_sidebar_menu = "settings_back";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_challenge_mode_settings)
					{
						global.settings_sidebar_menu = "challenge_mode_settings";
					}
					else
					if (global.enable_how_to_play_settings)
					{
						global.settings_sidebar_menu = "how_to_play";
					}
					else
					{
						global.settings_sidebar_menu = "game_settings";
					}
					menu_delay = 3;
				}
			}
			#endregion /* Accessibility Settings END */

			#region /* Chellenge Mode Settings */
			if (global.settings_sidebar_menu == "challenge_mode_settings")
			{
				if (key_up)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					global.settings_sidebar_menu = "accessibility_settings";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_how_to_play_settings)
					{
						global.settings_sidebar_menu = "how_to_play";
					}
					else
					{
						global.settings_sidebar_menu = "game_settings";
					}
					menu_delay = 3;
				}
			}
			#endregion /* Challenge Mode Settings END */

			#region /* How to play Settings */
			if (global.enable_how_to_play_settings)
			{
				if (global.settings_sidebar_menu == "how_to_play")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_challenge_mode_settings)
						{
							global.settings_sidebar_menu = "challenge_mode_settings";
						}
						else
						{
							global.settings_sidebar_menu = "accessibility_settings";
						}
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_challenge_mode_settings)
						{
							global.settings_sidebar_menu = "game_settings";
						}
						else
						{
							global.settings_sidebar_menu = "accessibility_settings";
						}
						menu_delay = 3;
					}
				}
			}
			#endregion /* How to play Settings END */

			#region /* My Game Settings */

			#region /* Game Settings */
			if (global.settings_sidebar_menu == "game_settings")
			{
				if (key_up)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_how_to_play_settings)
					{
						global.settings_sidebar_menu = "how_to_play";
					}
					else
					if (global.enable_challenge_mode_settings)
					{
						global.settings_sidebar_menu = "challenge_mode_settings";
					}
					else
					{
						global.settings_sidebar_menu = "accessibility_settings";
					}
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_multiplayer_settings)
					{
						global.settings_sidebar_menu = "multiplayer_settings";
					}
					else
					if (global.enable_keyboard_and_mouse_settings)
					{
						if (global.sprite_select_player[remapping_player + 1] == noone)
						{
							scr_change_character_portrait();
						}
						global.settings_sidebar_menu = "keyboard_and_mouse_settings";
					}
					else
					if (global.enable_controller_settings)
					{
						if (global.sprite_select_player[remapping_player + 1] == noone)
						{
							scr_change_character_portrait();
						}
						global.settings_sidebar_menu = "controller_settings";
					}
					else
					if (global.enable_touch_settings)
					{
						global.settings_sidebar_menu = "touch_settings";
					}
					else
					if (global.enable_account_settings)
					{
						global.settings_sidebar_menu = "account_settings";
					}
					else
					{
						global.settings_sidebar_menu = "video_settings";
					}
					menu_delay = 3;
				}
			}
			#endregion /* Game Settings END */

			#region /* Multiplayer Settings */
			if (global.enable_multiplayer_settings)
			{
				if (global.settings_sidebar_menu == "multiplayer_settings")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "game_settings";
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_keyboard_and_mouse_settings)
						{
							if (global.sprite_select_player[remapping_player + 1] == noone)
							{
								scr_change_character_portrait();
							}
							global.settings_sidebar_menu = "keyboard_and_mouse_settings";
						}
						else
						if (global.enable_controller_settings)
						{
							if (global.sprite_select_player[remapping_player + 1] == noone)
							{
								scr_change_character_portrait();
							}
							global.settings_sidebar_menu = "controller_settings";
						}
						else
						if (global.enable_touch_settings)
						{
							global.settings_sidebar_menu = "touch_settings";
						}
						else
						if (global.enable_account_settings)
						{
							global.settings_sidebar_menu = "account_settings";
						}
						else
						{
							global.settings_sidebar_menu = "video_settings";
						}
						menu_delay = 3;
					}
				}
			}
			#endregion /* Multiplayer Settings END */

			#endregion /* My Game Settings END */

			#region /* Controls Settings */

			#region /* Keyboard and Mouse Settings */
			if (global.settings_sidebar_menu == "keyboard_and_mouse_settings")
			{
				if (key_up)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_multiplayer_settings)
					{
						global.settings_sidebar_menu = "multiplayer_settings";
					}
					else
					{
						global.settings_sidebar_menu = "game_settings";
					}
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_controller_settings)
					{
						if (global.sprite_select_player[remapping_player + 1] == noone)
						{
							scr_change_character_portrait();
						}
						global.settings_sidebar_menu = "controller_settings";
					}
					else
					if (global.enable_touch_settings)
					{
						global.settings_sidebar_menu = "touch_settings";
					}
					else
					if (global.enable_account_settings)
					{
						global.settings_sidebar_menu = "account_settings";
					}
					else
					{
						global.settings_sidebar_menu = "video_settings";
					}
					menu_delay = 3;
				}
			}
			#endregion /* Keyboard and Mouse Settings */

			#region /* Controller Settings */
			if (global.enable_controller_settings)
			{
				if (global.settings_sidebar_menu == "controller_settings")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_keyboard_and_mouse_settings)
						{
							if (global.sprite_select_player[remapping_player + 1] == noone)
							{
								scr_change_character_portrait();
							}
							global.settings_sidebar_menu = "keyboard_and_mouse_settings";
						}
						else
						{
							if (global.enable_multiplayer_settings)
							{
								global.settings_sidebar_menu = "multiplayer_settings";
							}
							else
							{
								global.settings_sidebar_menu = "game_settings";
							}
						}
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_touch_settings)
						{
							global.settings_sidebar_menu = "touch_settings";
						}
						else
						if (global.enable_account_settings)
						{
							global.settings_sidebar_menu = "account_settings";
						}
						else
						{
							global.settings_sidebar_menu = "video_settings";
						}
						menu_delay = 3;
					}
				}
			}
			#endregion /* Controller Settings END */

			#region /* Touch Settings */
			if (global.enable_touch_settings)
			{
				if (global.settings_sidebar_menu == "touch_settings")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_touch_settings)
						{
							if (global.sprite_select_player[remapping_player + 1] == noone)
							{
								scr_change_character_portrait();
							}
							global.settings_sidebar_menu = "controller_settings";
						}
						else
						{
							if (global.sprite_select_player[remapping_player + 1] == noone)
							{
								scr_change_character_portrait();
							}
							global.settings_sidebar_menu = "keyboard_and_mouse_settings";
						}
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_account_settings)
						{
							global.settings_sidebar_menu = "account_settings";
						}
						else
						{
							global.settings_sidebar_menu = "video_settings";
						}
						menu_delay = 3;
					}
				}
			}
			#endregion /* Touch Settings END */

			#endregion /* Controls Settings END */

			#region /* General Settings */

			#region /* Account Settings */
			if (global.enable_account_settings)
			{
				if (global.settings_sidebar_menu == "account_settings")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_touch_settings)
						{
							global.settings_sidebar_menu = "touch_settings";
						}
						else
						if (global.enable_controller_settings)
						{
							if (global.sprite_select_player[remapping_player + 1] == noone)
							{
								scr_change_character_portrait();
							}
							global.settings_sidebar_menu = "controller_settings";
						}
						else
						{
							if (global.sprite_select_player[remapping_player + 1] == noone)
							{
								scr_change_character_portrait();
							}
							global.settings_sidebar_menu = "keyboard_and_mouse_settings";
						}
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "video_settings";
						menu_delay = 3;
					}
				}
			}
			#endregion /* Account Settings END */

			#region /* Video Settings */
			if (global.settings_sidebar_menu == "video_settings")
			{
				if (key_up)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_account_settings)
					{
						global.settings_sidebar_menu = "account_settings";
					}
					else
					if (global.enable_touch_settings)
					{
						global.settings_sidebar_menu = "touch_settings";
					}
					else
					if (global.enable_controller_settings)
					{
						if (global.sprite_select_player[remapping_player + 1] == noone)
						{
							scr_change_character_portrait();
						}
						global.settings_sidebar_menu = "controller_settings";
					}
					else
					{
						if (global.sprite_select_player[remapping_player + 1] == noone)
						{
							scr_change_character_portrait();
						}
						global.settings_sidebar_menu = "keyboard_and_mouse_settings";
					}
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					global.settings_sidebar_menu = "audio_settings";
					menu_delay = 3;
				}
			}
			#endregion /* Video Settings END */

			#region /* Audio Settings */
			if (global.settings_sidebar_menu == "audio_settings")
			{
				if (key_up)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					global.settings_sidebar_menu = "video_settings";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_custom_resources_settings)
					{
						global.settings_sidebar_menu = "custom_resources_settings";
					}
					else
					if (global.enable_storage_settings)
					{
						global.settings_sidebar_menu = "storage_settings";
						scr_load_storage_variables();
					}
					else
					{
						global.settings_sidebar_menu = "language_settings";
					}
					menu_delay = 3;
				}
			}
			#endregion /* Audio Settings END */

			#region /* Custom Resources Settings */
			if (global.enable_custom_resources_settings)
			{
				if (global.settings_sidebar_menu == "custom_resources_settings")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "audio_settings";
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_storage_settings)
						{
							global.settings_sidebar_menu = "storage_settings";
							scr_load_storage_variables();
						}
						else
						{
							global.settings_sidebar_menu = "language_settings";
						}
						menu_delay = 3;
					}
				}
			}
			#endregion /* Custom Resources Settings END */

			#region /* Storage Settings */
			if (global.enable_storage_settings)
			{
				if (global.settings_sidebar_menu == "storage_settings")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						if (global.enable_custom_resources_settings)
						{
							global.settings_sidebar_menu = "custom_resources_settings";
						}
						else
						{
							global.settings_sidebar_menu = "audio_settings";
						}
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "language_settings";
						menu_delay = 3;
					}
				}
			}
			#endregion /* Storage Settings END */

			#region /* Language Settings */
			if (global.settings_sidebar_menu == "language_settings")
			{
				if (key_up)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					global.settings_sidebar_menu = "storage_settings";
					scr_load_storage_variables();
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_broadcast_settings)
					{
						global.settings_sidebar_menu = "broadcast_settings";
					}
					else
					if (global.enable_add_ons_settings)
					{
						global.settings_sidebar_menu = "resource_pack_settings";
					}
					else
					{
						global.settings_sidebar_menu = "settings_back";
					}
					menu_delay = 3;
				}
			}
			#endregion /* Language Settings END */

			#region /* Broadcast Settings */
			if (global.enable_broadcast_settings)
			{
				if (global.settings_sidebar_menu == "broadcast_settings")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "language_settings";
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "how_to_play";
						menu_delay = 3;
					}
				}
			}
			#endregion /* Broadcast Settings END */

			#region /* Add-Ons Settings */
			if (global.enable_add_ons_settings)
			{
				if (global.settings_sidebar_menu == "resource_pack_settings")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "how_to_play";
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "behavior_packs_settings";
						menu_delay = 3;
					}
				}

				if (global.settings_sidebar_menu == "behavior_packs_settings")
				{
					if (key_up)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "resource_pack_settings";
						menu_delay = 3;
					}
					else
					if (key_down)
					&& (can_navigate_settings_sidebar)
					&& (menu_delay == 0 && menu_joystick_delay == 0)
					{
						global.settings_sidebar_menu = "settings_back";
						menu_delay = 3;
					}
				}
			}
			#endregion /* Add-Ons Settings END */

			#region /* The "Back" button should always appear at the top of the screen */
			if (global.settings_sidebar_menu == "settings_back")
			{
				if (key_up)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					if (global.enable_add_ons_settings)
					{
						global.settings_sidebar_menu = "behavior_packs_settings";
					}
					else
					if (global.enable_how_to_play_settings)
					{
						global.settings_sidebar_menu = "how_to_play";
					}
					else
					if (global.enable_broadcast_settings)
					{
						global.settings_sidebar_menu = "broadcast_settings";
					}
					else
					{
						global.settings_sidebar_menu = "language_settings";
					}
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (can_navigate_settings_sidebar)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					global.settings_sidebar_menu = "accessibility_settings";
					menu_delay = 3;
				}
			}
			#endregion /* The "Back" button should always appear at the top of the screen END */

			#endregion /* General Settings END */

		}

		#endregion /* Settings Sidebar Navigation END */

		draw_set_halign(fa_left);
		draw_set_valign(fa_middle);

		scr_option_assist_settings();

		if (global.enable_challenge_mode_settings)
		{
			scr_option_challenge_mode_settings();
		}

		#region /* My Game Settings */

		#region /* Game Settings */
		if (global.settings_sidebar_menu == "game_settings")
		{
			var difficulty_settings_y = 48;
			var automatically_pause_when_window_is_unfocused_settings_y = 48 * 2;
			var show_timer_settings_y = 48 * 3;
			var show_defeats_counter_settings_y = 48 * 4;

			if (global.enable_ranks)
			{
				var show_ranks_settings_y = 48 * 5;
				var show_tutorial_signs_y = 48 * 6;
				var players_can_collide_y = 48 * 7;
				var show_new_items_notification_y = 48 * 8;
				var hud_hide_time_y = 48 * 9 + 16;
				var selected_font_y = 48 * 10 + 32;
				var debug_screen_y = 48 * 11 + 32;
			}
			else
			{
				var show_ranks_settings_y = -9999;
				var show_tutorial_signs_y = 48 * 5;
				var players_can_collide_y = 48 * 6;
				var show_new_items_notification_y = 48 * 7;
				var hud_hide_time_y = 48 * 8 + 16;
				var selected_font_y = 48 * 9 + 32;
				var debug_screen_y = 48 * 10 + 32;
			}
			draw_set_halign(fa_left);
			draw_set_valign(fa_middle);

			if (global.enable_option_for_pc)
			{
				global.automatically_pause_when_window_is_unfocused = draw_menu_checkmark(380, automatically_pause_when_window_is_unfocused_settings_y, l10n_text("Automatically pause when the game is unfocused"), "automatically_pause_when_window_is_unfocused_settings", global.automatically_pause_when_window_is_unfocused, true,
					l10n_text("Pauses the game when the window loses focus"));
			}

			global.show_timer = draw_menu_checkmark(380, show_timer_settings_y, l10n_text("Show Timer"), "show_timer_settings", global.show_timer, false,
				l10n_text("Displays a timer while playing"));

			global.show_defeats_counter = draw_menu_checkmark(380, show_defeats_counter_settings_y, l10n_text("Show Defeats Counter"), "show_defeats_counter_settings", global.show_defeats_counter, true,
				l10n_text("Keeps track of how many times you've been defeated"));

			if (global.enable_ranks)
			{
				global.show_ranks = draw_menu_checkmark(380, show_ranks_settings_y, l10n_text("Show Ranks"), "show_ranks_settings", global.show_ranks, false,
					l10n_text("Displays rank information based on performance"));
			}

			global.show_tutorial_signs = draw_menu_checkmark(380, show_tutorial_signs_y, l10n_text("Show Tutorial Signs"), "show_tutorial_signs", global.show_tutorial_signs, true,
				l10n_text("Shows tutorial signs with helpful gameplay tips"));

			global.players_can_collide = draw_menu_checkmark(380, players_can_collide_y, l10n_text("Players Can Collide"), "players_can_collide", global.players_can_collide, false,
				l10n_text("Allows players to collide with each other in multiplayer mode"));

			global.show_new_items_notification = draw_menu_checkmark(380, show_new_items_notification_y, l10n_text("Show New Items Notification"), "show_new_items_notification", global.show_new_items_notification, true,
				l10n_text("Notifies you when new items become available in the level editor"));

			if (global.enable_option_for_pc)
			{
				global.debug_screen = draw_menu_checkmark(380, debug_screen_y, l10n_text("Debug Screen"), "debug_screen", global.debug_screen, false,
					l10n_text("Displays debug information for development and troubleshooting"));
			}

			if (global.hud_hide_time > 10)
			{
				global.hud_hide_time = 3;
			}

			/* Safely get the language string from the grid: */
			var lang = "";

			if (variable_global_exists("language_local_data")
			&& global.language_local_data != undefined
			&& global.language_local_data != 0
			&& ds_grid_width(global.language_local_data) > global.selected_language_id)
			{
				lang = global.language_local_data[# global.selected_language_id, 0];
			}
			else
			{
				lang = "";
			}

			if (lang == "日本語 (Japanese)")
			{
				/* Only include Game Font and Normal Font for Japanese language; Open Dyslexic isn't supported */
				var can_select_font = false;
			}
			else
			{
				draw_menu_dropdown(380, selected_font_y, l10n_text("Selected Font"), "select_font", global.selected_font,
					l10n_text("Game Font"), l10n_text("Normal Font"), l10n_text("Open Dyslexic")); /* Includes Open Dyslexic */
				scr_set_default_dropdown_description("select_font", "Game Font");
				var can_select_font = true;
			}

			draw_menu_dropdown(380, hud_hide_time_y, l10n_text("HUD hide timer"), "hud_hide_time", global.hud_hide_time, l10n_text("Never Show"), l10n_text("After 1 Second"), l10n_text("After 2 Seconds"), l10n_text("After 3 Seconds"), l10n_text("After 4 Seconds"), l10n_text("After 5 Seconds"), l10n_text("After 6 Seconds"), l10n_text("After 7 Seconds"), l10n_text("After 8 Seconds"), l10n_text("After 9 Seconds"), l10n_text("Always Show"));
			scr_set_default_dropdown_description("hud_hide_time", "After 3 Seconds");

			draw_menu_dropdown(380, difficulty_settings_y, l10n_text("Level Layout Difficulty"), "difficulty_settings", global.difficulty, l10n_text("Easy"), l10n_text("Normal"), l10n_text("Hard")); /* Difficulty Settings */
			scr_set_default_dropdown_description("difficulty_settings", "Normal");
		}
		#endregion /* Game Settings END */

		#region /* Multiplayer Settings */
		if (global.settings_sidebar_menu == "multiplayer_settings")
		{
			draw_set_halign(fa_left);draw_set_valign(fa_middle);
			scr_draw_text_outlined(410, 20 + (40 * 3), "Change how multiplayer works here", global.default_text_size * 1.1, c_menu_outline, c_menu_fill, 1);
		}
		#endregion /* Multiplayer Settings END */

		#endregion /* My Game Settings */

		scr_option_control_menu();

		#region /* General Settings */

		scr_option_account();

		#region /* Graphics Settings */
		scr_option_graphics();
		#endregion /* Graphics Settings END */

		#region /* Audio Settings */
		if (global.settings_sidebar_menu == "audio_settings")
		{
			var volume_main_y = 64 + menu_y_offset;
			var volume_music_y = 96 + (64) + menu_y_offset;
			var volume_melody_y = 96 + (64 * 2) + menu_y_offset;
			var volume_sound_y = 96 + (64 * 3) + menu_y_offset;
			var volume_ambient_y = 96 + (64 * 4) + menu_y_offset;
			var volume_footstep_y = 96 + (64 * 5) + menu_y_offset;
			var volume_voice_y = 96 + (64 * 6) + menu_y_offset;
			var number_of_audio_channels_y = 96 + 8 + (64 * 7) - 20 + menu_y_offset;
			var narrator_y = 96 + 8 + (64 * 8) - 10 + menu_y_offset;
			var default_audio_settings_y = 96 + (64 * 8) + 20 + menu_y_offset;

			#region /* Make volumes stay between 0 and 1 */
			global.volume_main = clamp(global.volume_main, 0, 1);
			global.volume_music = clamp(global.volume_music, 0, 1);
			global.volume_melody = clamp(global.volume_melody, 0, 1);
			global.volume_sound = clamp(global.volume_sound, 0, 1);
			global.volume_ambient = clamp(global.volume_ambient, 0, 1);
			global.volume_footstep = clamp(global.volume_footstep, 0, 1);
			global.volume_voice = clamp(global.volume_voice, 0, 1);
			global.verbosity_slider = clamp(global.verbosity_slider, 0, 1);
			#endregion /* Make volumes stay between 0 and 1 END */

			#region /* Draw volume slider bars that represent how much volume each channel have */
			draw_menu_slider(410, volume_main_y, l10n_text("Main Volume"), "volume_main", global.volume_main, c_red);
			draw_line_width_color(410, volume_main_y + 32, 820, volume_main_y + 32, 3, c_white, c_white);
			draw_menu_slider(410, volume_music_y, l10n_text("Music Volume"), "volume_music", global.volume_music, c_red);
			draw_menu_slider(410, volume_melody_y, l10n_text("Melody Volume"), "volume_melody", global.volume_melody, c_red);
			draw_menu_slider(410, volume_sound_y, l10n_text("Sound Volume"), "volume_sound", global.volume_sound, c_lime);
			draw_menu_slider(410, volume_ambient_y, l10n_text("Ambient Volume"), "volume_ambient", global.volume_ambient, c_lime);
			draw_menu_slider(410, volume_footstep_y, l10n_text("Footstep Volume"), "volume_footstep", global.volume_footstep, c_lime);
			draw_menu_slider(410, volume_voice_y, l10n_text("Voices Volume"), "volume_voices", global.volume_voice, c_aqua);

			#region /* Verbosity Bar */
			if (global.enable_verbosity_slider)
			{
				draw_menu_slider(410, 96 + (64 * 7), l10n_text("Voices Volume"), "volume_voices", global.volume_voice, c_aqua);
			}
			#endregion /* Verbosity Bar END */

			#endregion /* Draw volume slider bars that represent how much volume each channel have END */

			draw_set_halign(fa_left);
			draw_set_valign(fa_middle);

			#region /* Select Narrator */
			if (global.enable_narrator)
			{
				var file_select_x = 450;
				var file_select_right_arrow_x = 400;

				draw_set_halign(fa_left);
				draw_set_valign(fa_middle);

				if (global.narrator_selection <= -3)
				{
					global.narrator_selection = -2;
					global.narrator = -1;
				}

				if (menu == "select_narrator")
				{
					draw_sprite_ext(spr_menu_cursor, menu_cursor_index, 390, narrator_y, 1, 1, 0, c_white, 1);
				}
				if (global.narrator_selection <= -2)
				{
					scr_draw_text_outlined(file_select_x, narrator_y, l10n_text("Narrator") + ": " + l10n_text("Nobody"), global.default_text_size * 1.1, c_menu_outline, c_menu_fill, 1);
				}
				else
				if (global.narrator_selection == -1)
				{
					/* This option makes it so that whatever character is selected for Player 1, the narrator voice will be that same character, and globla.narrator will be changed to match that character slot */
					scr_draw_text_outlined(file_select_x, narrator_y, l10n_text("Narrator") + ": " + l10n_text("Match Player 1"), global.default_text_size * 1.1, c_menu_outline, c_menu_fill, 1);
				}
				else
				if (global.narrator_selection >= 0)
				{
					scr_draw_text_outlined(file_select_x, narrator_y, l10n_text("Narrator") + ": " + string(narrator_name), global.default_text_size * 1.1, c_menu_outline, c_menu_fill, 1);
				}

				#region /* Select Narrator Left and Right Key, show underneath text */
				if (global.narrator_selection >= -1)
				{
					draw_sprite_ext(spr_keyboard_keys, vk_left, file_select_x - 32, narrator_y, 0.5, 0.5, 0, c_white, 1);
					if (point_in_rectangle(mouse_get_x, mouse_get_y, file_select_x - 32 - 16, narrator_y - 16, file_select_x - 32 + 16, narrator_y + 16))
					&& (global.controls_used_for_navigation == "mouse")
					{
						if (!open_dropdown)
						{
							menu = "select_narrator";
						}
						draw_set_alpha(0.5);
						draw_rectangle_color(file_select_x - 32 - 16, narrator_y - 16, file_select_x - 32 + 16, narrator_y + 16, c_white, c_white, c_white, c_white, false);
						draw_set_alpha(1);
					}
				}
				if (global.narrator_selection < ds_list_size(global.all_loaded_characters) - 1)
				{
					draw_sprite_ext(spr_keyboard_keys, vk_right, file_select_x + file_select_right_arrow_x + 100, narrator_y, 0.5, 0.5, 0, c_white, 1);
					if (point_in_rectangle(mouse_get_x, mouse_get_y, file_select_x + file_select_right_arrow_x + 100 - 16, narrator_y - 16, file_select_x + file_select_right_arrow_x + 100 + 16, narrator_y + 16))
					&& (global.controls_used_for_navigation == "mouse")
					{
						if (!open_dropdown)
						{
							menu = "select_narrator";
						}
						draw_set_alpha(0.5);
						draw_rectangle_color(file_select_x + file_select_right_arrow_x + 100 - 16, narrator_y - 16, file_select_x + file_select_right_arrow_x + 100 + 16, narrator_y + 16, c_white, c_white, c_white, c_white, false);
						draw_set_alpha(1);
					}
				}
				#endregion /* Select Narrator Left and Right Key, show underneath text END */

				#region /* Player 1 change portrait when clicking left or right */

				#region /* Player 1 Key Left (change portrait sprites) */
				if (key_left)
				&& (menu == "select_narrator")
				|| (mouse_check_button_released(mb_left))
				&& (point_in_rectangle(mouse_get_x, mouse_get_y, file_select_x - 32 - 16, narrator_y - 16, file_select_x - 32 + 16, narrator_y + 16))
				&& (global.controls_used_for_navigation == "mouse")
				{
					menu = "select_narrator";
					if (menu_delay == 0 && menu_joystick_delay == 0)
					&& (global.narrator_selection > -2)
					&& (!open_dropdown)
					{
						menu_delay = 3;
						if (global.narrator_selection > -2)
						{
							global.narrator_selection--;
						}

						scr_set_narrator();

						#region /* Character Name */
						if (file_exists("characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini"))
						|| (file_exists(game_save_id + "custom_characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini"))
						{
							if (file_exists("characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini"))
							{
								ini_open("characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini");
							}
							else
							{
								ini_open(game_save_id + "custom_characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini");
							}

							#region /* Character Name */
							narrator_name = string(ds_list_find_value(global.all_loaded_characters, global.narrator));
							#endregion /* Character Name END */

							ini_close(); /* Don't commit the save data on Switch, this is only temporary! */
						}
						else
						{
							narrator_name = string(global.narrator + 1);
						}
						#endregion /* Character Name END */

						#region /* Player 1 character select portrait sprite */
						scr_delete_sprite_properly(global.sprite_select_player[fixed_player]);
						global.sprite_select_player[fixed_player] = spr_noone;
						scr_set_character_folder(fixed_player, global.skin_for_player[fixed_player]);
						ini_open(string(character_folder) + "/data/sprite_origin_point.ini");
						global.sprite_select_player[fixed_player] = scr_initialize_character_sprite("idle", global.sprite_select_player[fixed_player]);
						global.sprite_select_player[fixed_player] = scr_initialize_character_sprite("stand", global.sprite_select_player[fixed_player]);
						global.sprite_select_player[fixed_player] = scr_initialize_character_sprite("character_select_portrait", global.sprite_select_player[fixed_player]);
						ini_close(); /* Don't commit the save data on Switch, this is only temporary! */
						#endregion /* Player 1 character select portrait sprite END */

					}
					open_dropdown = false;
				}
				#endregion /* Player 1 Key Left (change portrait sprites) END */

				#region /* Player 1 Key Right (change portrait sprites) */
				if (key_right)
				&& (menu == "select_narrator")
				|| (mouse_check_button_released(mb_left))
				&& (point_in_rectangle(mouse_get_x, mouse_get_y, file_select_x + file_select_right_arrow_x + 100 - 16, narrator_y - 16, file_select_x + file_select_right_arrow_x + 100 + 16, narrator_y + 16))
				&& (global.controls_used_for_navigation == "mouse")
				{
					menu = "select_narrator";
					if (menu_delay == 0 && menu_joystick_delay == 0)
					&& (!open_dropdown)
					{
						menu_delay = 3;
						global.narrator_selection = clamp(global.narrator_selection + 1, -2, ds_list_size(global.all_loaded_characters) - 1);

						scr_set_narrator();

						#region /* Character Name */
						if (file_exists("characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini"))
						|| (file_exists(game_save_id + "custom_characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini"))
						{
							if (file_exists("characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini"))
							{
								ini_open("characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini");
							}
							else
							{
								ini_open(game_save_id + "custom_characters/" + string(ds_list_find_value(global.all_loaded_characters, global.narrator)) + "/data/character_config.ini");
							}

							#region /* Character Name */
							narrator_name = string(ds_list_find_value(global.all_loaded_characters, global.narrator));
							#endregion /* Character Name END */

							ini_close(); /* Don't commit the save data on Switch, this is only temporary! */
						}
						else
						{
							narrator_name = string(global.narrator + 1);
						}
						#endregion /* Character Name END */

						#region /* Player 1 character select portrait sprite */
						scr_delete_sprite_properly(global.sprite_select_player[fixed_player]);
						global.sprite_select_player[fixed_player] = spr_noone;
						scr_set_character_folder(fixed_player, global.skin_for_player[fixed_player]);
						ini_open(string(character_folder) + "/data/sprite_origin_point.ini");
						global.sprite_select_player[fixed_player] = scr_initialize_character_sprite("walk", global.sprite_select_player[fixed_player]);
						global.sprite_select_player[fixed_player] = scr_initialize_character_sprite("idle", global.sprite_select_player[fixed_player]);
						global.sprite_select_player[fixed_player] = scr_initialize_character_sprite("stand", global.sprite_select_player[fixed_player]);
						global.sprite_select_player[fixed_player] = scr_initialize_character_sprite("character_select_portrait", global.sprite_select_player[fixed_player]);
						ini_close(); /* Don't commit the save data on Switch, this is only temporary! */
						#endregion /* Player 1 character select portrait sprite END */

					}
					open_dropdown = false;
				}
				#endregion /* Player 1 Key Right (change portrait sprites) END */

				#endregion /* Player 1 change portrait when clicking left or right END */

			}
			#endregion /* Select Narrator END */

			#region /* Reset to Default Audio Settings */
			draw_menu_button(430, default_audio_settings_y, l10n_text("Default Settings"), "default_audio_settings", "default_audio_settings");

			if (menu == "default_audio_settings")
			{
				if (key_a_pressed)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				|| (mouse_check_button_released(mb_left) && mouse_get_x > 370)
				&& (point_in_rectangle(mouse_get_x, mouse_get_y, 430, default_audio_settings_y + 1, 430 + 370, default_audio_settings_y + 41))
				&& (global.controls_used_for_navigation == "mouse")
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					scr_set_default_audio_settings();
					menu_delay = 3;
				}
			}
			#endregion /* Reset to Default Audio Settings END */

			draw_menu_dropdown(390, number_of_audio_channels_y, l10n_text("Number of Audio Channels"), "number_of_audio_channels", global.number_of_audio_channels, "32", "64", "96", "128", "160", "192", "224", "256"); /* Dropdown menus should be drawn last so they are above everything else when you open them */
			scr_set_default_dropdown_description("number_of_audio_channels", "128");
		}
		#endregion /* Audio Settings END */

		scr_option_language_menu(); /* Language Options */

		scr_option_custom_resources(); /* Custom Resources Settings */

		scr_option_storage(); /* Storage Settings */

		#region /* Broadcast Settings */
		if (global.settings_sidebar_menu == "broadcast_settings")
		{
			draw_set_halign(fa_left);
			draw_set_valign(fa_middle);
			scr_draw_text_outlined(410, 20 + (40 * 3), "Connect your Twitch account \n and earn in-game rewards \n as you stream the game :)", global.default_text_size * 1.1, c_menu_outline, c_menu_fill, 1);
		}
		#endregion /* Broadcast Settings END */

		#region /* How to Play */
		if (global.settings_sidebar_menu == "how_to_play")
		{
			draw_set_halign(fa_left);
			draw_set_valign(fa_middle);
			scr_draw_text_outlined(410, 20 + (40 * 3), "Control frog. \n Frog jump. \n Frog tongue. \n Frog happy.", global.default_text_size * 1.1, c_menu_outline, c_menu_fill, 1);
		}
		#endregion /* How to Play END */

		#endregion /* General Settings END */

		draw_set_alpha(darken_settings_alpha);
		draw_rectangle_color(left_sidebar_x + 370, 0, get_window_width, get_window_height, c_black, c_black, c_black, c_black, false);
		draw_set_alpha(1);

		#region /* Menu Navigation */
		if (menu_delay == 0 && menu_joystick_delay == 0)
		&& (can_navigate)
		{

			#region /* Options Menu */

			#region /* Difficulty Settings Navigation */
			if (menu == "difficulty_settings")
			{
				if (key_up)
				&& (open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (global.difficulty > 0)
				{
					menu_delay = 3;
					global.difficulty--;
				}
				else
				if (key_down)
				&& (open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (global.difficulty < 2)
				{
					menu_delay = 3;
					global.difficulty++;
				}
				else
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					if (global.enable_option_for_pc)
					{
						menu = "debug_screen";
					}
					else
					if (can_select_font)
					{
						menu = "select_font";
					}
					else
					{
						menu = "hud_hide_time";
					}
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					if (global.enable_option_for_pc)
					{
						menu = "automatically_pause_when_window_is_unfocused_settings";
					}
					else
					{
						menu = "show_timer_settings";
					}
				}
			}
			#endregion /* Difficulty Settings Navigation END */

			else

			#region /* Navigate Game Settings */
			if (menu == "automatically_pause_when_window_is_unfocused_settings")
			{
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "difficulty_settings";
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "show_timer_settings";
				}
			}
			else
			if (menu == "show_timer_settings")
			{
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					if (global.enable_option_for_pc) {
						menu = "automatically_pause_when_window_is_unfocused_settings";
					}
					else {
						menu = "difficulty_settings";
					}
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "show_defeats_counter_settings";
				}
			}
			else
			if (menu == "show_defeats_counter_settings")
			{
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "show_timer_settings";
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					if (global.enable_ranks)
					{
						menu = "show_ranks_settings";
					}
					else
					{
						menu = "show_tutorial_signs";
					}
				}
			}
			else
			if (menu == "show_ranks_settings")
			{
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "show_defeats_counter_settings";
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "show_tutorial_signs";
				}
			}
			else
			if (menu == "show_tutorial_signs")
			{
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					if (global.enable_ranks)
					{
						menu = "show_ranks_settings";
					}
					else
					{
						menu = "show_defeats_counter_settings";
					}
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "players_can_collide";
				}
			}
			else
			if (menu == "players_can_collide")
			{
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "show_tutorial_signs";
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "show_new_items_notification";
				}
			}
			else
			if (menu == "show_new_items_notification")
			{
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "players_can_collide";
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "hud_hide_time";
				}
			}
			else
			if (menu == "hud_hide_time")
			{
				if (key_up)
				&& (open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (global.hud_hide_time > 0)
				{
					menu_delay = 3;
					global.hud_hide_time--;
				}
				else
				if (key_down)
				&& (open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (global.hud_hide_time < 10)
				{
					menu_delay = 3;
					global.hud_hide_time++;
				}
				else
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "show_new_items_notification";
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					if (can_select_font)
					{
						menu = "select_font";
					}
					else
					if (global.enable_option_for_pc)
					{
						menu = "debug_screen";
					}
					else
					{
						menu = "difficulty_settings";
					}
				}
			}
			else
			if (menu == "select_font")
			{
				if (key_up)
				&& (open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (global.selected_font > 0)
				&& (can_select_font)
				{
					menu_delay = 3;
					global.selected_font--;
					scr_set_font();
				}
				else
				if (key_down)
				&& (open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (can_select_font)
				{
					// Safely get the language string from the grid:
					var lang = "";

					if (variable_global_exists("language_local_data")
					&& global.language_local_data != undefined
					&& global.language_local_data != 0
					&& ds_grid_width(global.language_local_data) > global.selected_language_id)
					{
						lang = global.language_local_data[# global.selected_language_id, 0];
					}
					else
					{
						lang = ""; /* fallback if grid is missing or not large enough */
					}

					/* If you have selected Japanese language, you can't use Open Dyslexic
					If "Global Selected Font" checks for less than 1 here, then you can only select Game Font and Normal Font */
					if ((lang == "日本語 (Japanese)" && global.selected_font < 1)
					|| (lang != "日本語 (Japanese)" && global.selected_font < 2))
					{
						menu_delay = 3;
						global.selected_font++;
						scr_set_font();
					}
				}
				else
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "hud_hide_time";
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					if (global.enable_option_for_pc)
					{
						menu = "debug_screen";
					}
					else
					{
						menu = "difficulty_settings";
					}
				}
			}
			else
			if (menu == "debug_screen")
			{
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					if (can_select_font)
					{
						menu = "select_font";
					}
					else
					{
						menu = "hud_hide_time";
					}
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "difficulty_settings";
				}
			}
			#endregion /* Navigate Game Settings END */

			else

			#region /* Players can collide */
			if (menu == "players_can_collide")
			{
				if (key_up)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "hud_hide_time";
				}
				else
				if (key_down)
				&& (!open_dropdown)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				{
					menu_delay = 3;
					menu = "assist_settings";
				}
			}
			#endregion /* Players can collide END */

			else

			#region /* Main Volume Navigation */
			if (menu == "volume_main")
			{
				if (key_left)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_main > 0)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_main -= 0.0001;
						}
						else
						{
							global.volume_main -= 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_right)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_main < +1)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_main += 0.0001;
						}
						else
						{
							global.volume_main += 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "default_audio_settings";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_music";
					menu_delay = 3;
				}
			}
			#endregion /* Main Volume Navigation END */

			else

			#region /* Music Volume Navigation */
			if (menu == "volume_music")
			{
				if (key_left)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_music > 0)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_music -= 0.0001;
						}
						else
						{
							global.volume_music -= 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_music * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_right)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_music < +1)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_music += 0.0001;
						}
						else
						{
							global.volume_music += 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_music * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_main";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_melody";
					menu_delay = 3;
				}
			}
			#endregion /* Music Volume Navigation END */

			else

			#region /* Melody Volume Navigation */
			if (menu == "volume_melody")
			{
				if (key_left)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_melody > 0)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_melody -= 0.0001;
						}
						else
						{
							global.volume_melody -= 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_melody * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_right)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_melody < +1)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_melody += 0.0001;
						}
						else
						{
							global.volume_melody += 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_melody * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_music";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_sound";
					menu_delay = 3;
				}
			}
			#endregion /* Melody Volume Navigation END */

			else

			#region /* Sound Volume Navigation */
			if (menu == "volume_sound")
			{
				if (key_left)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_sound > 0)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_sound -= 0.0001;
						}
						else
						{
							global.volume_sound -= 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_sound * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_right)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_sound < +1)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_sound += 0.0001;
						}
						else
						{
							global.volume_sound += 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_sound * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_melody";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_ambient";
					menu_delay = 3;
				}
			}
			#endregion /* Sound Volume Navigation END */

			else

			#region /* Ambient Volume Navigation */
			if (menu == "volume_ambient")
			{
				if (key_left)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_ambient > 0)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_ambient -= 0.0001;
						}
						else
						{
							global.volume_ambient -= 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_ambient * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_right)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_ambient < +1)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_ambient += 0.0001;
						}
						else
						{
							global.volume_ambient += 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_ambient * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_sound";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_footstep";
					menu_delay = 3;
				}
			}
			#endregion /* Ambient Volume Navigation END */

			else

			#region /* Footstep Volume Navigation */
			if (menu == "volume_footstep")
			{
				if (key_left)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_footstep > 0)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_footstep -= 0.0001;
						}
						else
						{
							global.volume_footstep -= 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_footstep * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_right)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_footstep < +1)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_footstep += 0.0001;
						}
						else
						{
							global.volume_footstep += 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_footstep * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_ambient";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_voices";
					menu_delay = 3;
				}
			}
			#endregion /* Footstep Volume Navigation END */

			else

			#region /* Voices Volume Navigation */
			if (menu == "volume_voices")
			{
				if (key_left)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_voice > 0)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_voice -= 0.0001;
						}
						else
						{
							global.volume_voice -= 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_voice * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_right)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.volume_voice < +1)
					{
						if (keyboard_check(vk_shift))
						{
							global.volume_voice += 0.0001;
						}
						else
						{
							global.volume_voice += 0.05;
						}
					}
					audio_play_sound(snd_basic_collectible, 0, 0, global.volume_voice * global.volume_main); /* Play a sound effect so player can hear how loud it will sound like */
				}
				else
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_footstep";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "number_of_audio_channels";
					menu_delay = 3;
				}
			}
			#endregion /* Voices Volume Navigation END */

			else

			#region /* Number of Audio Channels Navigation */
			if (menu == "number_of_audio_channels")
			{
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_voices";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					if (global.enable_verbosity_slider)
					{
						menu = "verbosity_slider";
						menu_delay = 3;
					}
					else
					if (global.enable_narrator)
					{
						menu = "select_narrator";
						menu_delay = 3;
					}
					else
					{
						menu = "volume_music";
						menu_delay = 3;
					}
				}
				else
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (open_dropdown)
				&& (global.number_of_audio_channels> 0)
				{
					global.number_of_audio_channels--;
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (open_dropdown)
				&& (global.number_of_audio_channels< 7)
				{
					global.number_of_audio_channels++;
					menu_delay = 3;
				}
			}
			#endregion /* Number of Audio Channels Navigation END */

			else

			#region /* Verbosity Slider Navigation */
			if (menu == "verbosity_slider")
			{
				if (key_left)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.verbosity_slider > 0)
					{
						if (keyboard_check(vk_shift))
						{
							global.verbosity_slider -= 0.0001;
						}
						else
						{
							global.verbosity_slider -= 0.05;
						}
					}
				}
				else
				if (key_right)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu_delay = 3;
					if (global.verbosity_slider < +1)
					{
						if (keyboard_check(vk_shift))
						{
							global.verbosity_slider += 0.0001;
						}
						else
						{
							global.verbosity_slider += 0.05;
						}
					}
				}
				else
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_voices";
					menu_delay = 3;
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					if (global.enable_narrator)
					{
						menu = "select_narrator";
						menu_delay = 3;
					}
					else
					{
						menu = "volume_music";
						menu_delay = 3;
					}
				}
			}
			#endregion /* Verbosity Slider Navigation END */

			else

			#region /* Select Narrator Navigation */
			if (menu == "select_narrator")
			{
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					if (global.enable_verbosity_slider)
					{
						menu = "verbosity_slider";
						menu_delay = 3;
					}
					else
					{
						menu = "number_of_audio_channels";
						menu_delay = 3;
					}
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "default_audio_settings";
					menu_delay = 3;
				}
			}
			#endregion /* Select Narrator Navigation */

			else

			#region /* Default Audio Settings Navigation */
			if (menu == "default_audio_settings")
			{
				if (key_up)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					if (global.enable_narrator)
					{
						menu = "select_narrator";
						menu_delay = 3;
					}
					else
					if (global.enable_verbosity_slider)
					{
						menu = "verbosity_slider";
						menu_delay = 3;
					}
					else
					{
						menu = "number_of_audio_channels";
						menu_delay = 3;
					}
				}
				else
				if (key_down)
				&& (menu_delay == 0 && menu_joystick_delay == 0)
				&& (!open_dropdown)
				{
					menu = "volume_main";
					menu_delay = 3;
				}
			}
			#endregion /* Default Audio Settings Navigation */

			#endregion /* Options Menu END */

		}
		#endregion /* Menu Navigation END */

	}
	else
	{
		left_sidebar_x = lerp(left_sidebar_x, -400, 0.1);
		background_brightness_menu_lerp = lerp(background_brightness_menu_lerp, 0, 0.1);
	}

	#region /* Darken sidebar when it's not the focus */
	if (can_navigate_settings_sidebar)
	&& (in_settings)
	{
		darken_settings_alpha = lerp(darken_settings_alpha, 0.5, 0.1); /* Darken the settings */
		darken_settings_sidebar_alpha = lerp(darken_settings_sidebar_alpha, 0, 0.1); /* But not the settings sidebar */
	}
	else
	if (!can_navigate_settings_sidebar)
	&& (in_settings)
	{
		darken_settings_alpha = lerp(darken_settings_alpha, 0, 0.1); /* Don't darken the settings */
		darken_settings_sidebar_alpha = lerp(darken_settings_sidebar_alpha, 0.5, 0.1); /* But darken the settings sidebar */
	}
	else
	if (!in_settings)
	{
		darken_settings_alpha = lerp(darken_settings_alpha, 0, 0.1); /* Don't darken the settings */
		darken_settings_sidebar_alpha = lerp(darken_settings_sidebar_alpha, 0, 0.1); /* And don't darken the settings sidebar */
	}
	#endregion /* Darken sidebar when it's not the focus END */

	scr_menu_navigation_with_joystick_delay();
	scr_draw_option_description();
}
